{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["url","axios","get","then","response","data","person","post","id","put","delete","Filter","filter","setFilter","onChange","e","target","value","PersonForm","props","onSubmit","handleSubmit","nameChange","newName","numberChange","newNumber","type","Persons","persons","removePerson","map","key","name","number","onClick","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","setMessage","msgType","setMsgType","useEffect","personService","postMessage","msg","setTimeout","shownPersons","toLowerCase","includes","event","preventDefault","find","alert","window","confirm","catch","finally","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f38e7fe4.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst url = '/api/persons'\r\n\r\nconst getAll = () => axios.get(url).then(response => response.data)\r\nconst create = person => axios.post(url, person).then(response => response.data)\r\nconst update = (id, person) => axios.put(`${url}/${id}`, person).then(response => response.data)\r\nconst remove = (id) => axios.delete(`${url}/${id}`).then(response => response.data)\r\n\r\nexport default {getAll, create, update, remove} ","import React from 'react'\r\n\r\nconst Filter = ({filter, setFilter})  => {\r\n  return (\r\n    <div>\r\n      filter shown with <input onChange={(e)=>setFilter(e.target.value)} value={filter} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        name: <input onChange={props.nameChange} value={props.newName}/>\r\n      </div>\r\n      <div>\r\n        number: <input onChange={props.numberChange} value={props.newNumber}/>\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({persons, removePerson}) => {\r\n  return (\r\n    <div>\r\n      {persons.map(person => (\r\n        <div key={person.name}>\r\n          {person.name} {person.number} {}\r\n          <button onClick={(e)=>removePerson(e, person)}>delete</button>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({ message, type }) => {\r\n\r\n  if ( message === null ) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className={type}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n\n  const [ persons,    setPersons    ] = useState([])\n  const [ newName,    setNewName    ] = useState('')\n  const [ newNumber,  setNewNumber  ] = useState('')\n  const [ filter,     setFilter     ] = useState('')\n  const [ message,    setMessage    ] = useState(null)\n  const [ msgType,    setMsgType    ] = useState('success')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response)\n      })\n  }, [])\n\n  const nameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const numberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const personExists = (name) => {\n    return persons.find(person=>person.name===name)\n  }\n\n  const postMessage = (msg, type) => {\n    setMessage(msg)\n    setMsgType(type)\n    setTimeout(()=>setMessage(null), 5000)\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    if (newName === '') return\n    const person = personExists(newName)\n    if (person) {\n      if (person.number === newNumber) {\n        alert(`${newName}: ${newNumber} is already on the list`)\n      } else {\n        if (window.confirm(`${person.name} is already on the list. Modify the phone number?`)) {\n          personService.update(person.id, { name: newName, number: newNumber })\n          .then(() => {\n            postMessage(`${person.name} phone number is successfully modified.`, 'success')\n          })\n          .catch(() => {\n            postMessage(`Information on ${person.name} has been removed from the server`, 'error')\n          })\n          .finally(() => {\n            personService\n              .getAll()\n              .then(response => {\n                setPersons(response)\n              })\n          })\n        }\n        \n      }\n    } else {\n      personService.create({ name: newName, number: newNumber })\n        .then((response) => {\n          setPersons(persons.concat(response))\n          postMessage(`${response.name} is successfully added to the list.`, 'success')\n        })\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const removePerson = (event, person) => {\n    event.preventDefault()\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService.remove(person.id)\n      .then(() => {\n        personService\n          .getAll()\n          .then(response => {\n            setPersons(response)\n          })\n      })\n    }\n  }\n\n  const shownPersons = filter === '' ?\n        persons : \n        persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} type={msgType} />\n      <Filter filter={filter} setFilter={setFilter} />\n      <h2>add a new</h2>\n      <PersonForm \n        newName={newName} nameChange={nameChange} \n        newNumber={newNumber} numberChange={numberChange} \n        handleSubmit={handleSubmit} \n      />\n      <h2>Numbers</h2>\n      <Persons persons={shownPersons} removePerson={removePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}